{
  "openapi": "3.1.0",
  "info": {
    "title": "OOTDay User API",
    "version": "1.0",
    "description": "회원가입, 로그인, 인증, 탈퇴, 로그아웃 관련 API 문서"
  },
  "servers": [
    {
      "url": "http://localhost:8080"
    }
  ],
  "paths": {
    "/sms/send": {
      "post": {
        "summary": "휴대폰 인증번호 전송",
        "tags": ["SMS"],
        "parameters": [
          {
            "name": "phoneNumber",
            "in": "query",
            "required": true,
            "schema": { "type": "string" },
            "description": "인증받을 전화번호 (01012345678 형식)"
          }
        ],
        "responses": {
          "200": { "description": "인증번호 전송 성공" },
          "400": { "description": "잘못된 요청" }
        }
      }
    },
    "/sms/verify": {
      "post": {
        "summary": "인증번호 검증",
        "tags": ["SMS"],
        "parameters": [
          {
            "name": "phoneNumber",
            "in": "query",
            "required": true,
            "schema": { "type": "string" }
          },
          {
            "name": "code",
            "in": "query",
            "required": true,
            "schema": { "type": "string" }
          }
        ],
        "responses": {
          "200": { "description": "인증 성공/실패" }
        }
      }
    },
    "/api/members/join": {
      "post": {
        "summary": "회원가입",
        "tags": ["Member"],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": { "$ref": "#/components/schemas/MemberJoinDTO" }
            }
          }
        },
        "responses": {
          "200": {
            "description": "회원가입 성공 (UUID 반환)",
            "content": {
              "application/json": {
                "schema": { "type": "string" }
              }
            }
          },
          "400": { "description": "입력값 오류" }
        }
      }
    },
    "/api/members/login": {
      "post": {
        "summary": "로그인",
        "tags": ["Member"],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": { "$ref": "#/components/schemas/MemberLoginDTO" }
            }
          }
        },
        "responses": {
          "200": {
            "description": "로그인 성공 (JWT 토큰 반환)",
            "content": {
              "application/json": {
                "schema": { "$ref": "#/components/schemas/MemberLoginResponseDTO" }
              }
            }
          },
          "400": { "description": "로그인 실패" }
        }
      }
    },
    "/api/members/withdraw": {
      "post": {
        "summary": "회원탈퇴",
        "tags": ["Member"],
        "security": [
          { "bearerAuth": [] }
        ],
        "responses": {
          "200": { "description": "회원탈퇴 성공" },
          "401": { "description": "인증 필요 또는 실패" }
        }
      }
    },
    "/api/members/logout": {
      "post": {
        "summary": "로그아웃",
        "tags": ["Member"],
        "security": [
          { "bearerAuth": [] }
        ],
        "responses": {
          "200": { "description": "로그아웃 성공" }
        }
      }
    }
  },
  "components": {
    "securitySchemes": {
      "bearerAuth": {
        "type": "http",
        "scheme": "bearer",
        "bearerFormat": "JWT"
      }
    },
    "schemas": {
      "MemberJoinDTO": {
        "type": "object",
        "properties": {
          "name": { "type": "string" },
          "phoneNumber": { "type": "string" },
          "memberId": { "type": "string" },
          "password": { "type": "string" },
          "confirmPassword": { "type": "string" },
          "gender": {
            "type": "string",
            "enum": ["MALE", "FEMALE"]
          },
          "agree": { "type": "boolean" }
        },
        "required": ["name", "phoneNumber", "memberId", "password", "confirmPassword", "gender", "agree"]
      },
      "MemberLoginDTO": {
        "type": "object",
        "properties": {
          "memberId": { "type": "string" },
          "password": { "type": "string" }
        },
        "required": ["memberId", "password"]
      },
      "MemberLoginResponseDTO": {
        "type": "object",
        "properties": {
          "token": { "type": "string" }
        }
      }
    }
  }
}
